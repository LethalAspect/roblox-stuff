-- note: i pasted this code and added some updated thingy, original is from topitbopit

-- get services
local runServ = game:GetService('RunService') -- used for some antifling methods 
local sGuiServ = game:GetService('StarterGui') -- starter gui
local playerServ = game:GetService('Players') -- players

-- get client stuff
local clientPlr = game:GetService('Players').LocalPlayer 
local clientChar = clientPlr.Character
local clientHumanoid
local clientRoot

-- assign char vars
if (clientChar) then
    clientHumanoid = clientChar:FindFirstChildOfClass('Humanoid')
    clientRoot = clientChar:FindFirstChild('HumanoidRootPart')
end 

-- localize some functions for speed ðŸ¤‘ðŸ¤‘
local vec3 = Vector3
local cfr = CFrame
-- localize config
local config = _G.AntiFlingConfig
-- setup connection table 
local cons = {}

-- handle disable stuff
do 
    -- check if the script was ran previously 
    if (typeof(_G.disable) == 'function') then
        -- if it was then delete it
        _G.disable()
    end
    -- set disable function
    _G.disable = function()
        -- disable every connection 
        for i,v in pairs(cons) do
            v:Disconnect() 
        end
        -- set cons to nil for the funnies
        cons = nil
        -- display notification 
        sGuiServ:SetCore('SendNotification', {
        	Title = 'antifling';
        	Text = 'deactivated';
        	Duration = 2;
        })
        -- clear function
        _G.disable = nil 
    end
end

-- client char handler
cons.charHandler = clientPlr.CharacterAdded:Connect(function(newChar) 
    -- update shit
    clientChar = newChar
    
    -- do a funny error message thing
    local set = false
    task.delay(4, function() 
        if (set == false) then
            sGuiServ:SetCore('SendNotification', {
            	Title = 'antifling';
            	Text = 'something went wrong and shit itself (your game probably isnt supported)';
            	Duration = 4;
            })
        end
    end)
    clientRoot = clientChar:WaitForChild('HumanoidRootPart', 99)
    clientHumanoid = clientChar:WaitForChildOfClass('Humanoid', 99)
    set = true
end)

-- function to detect fling exploit
local function detectFlingExploit()
    if (not clientChar or not clientRoot or not clientHumanoid) then
        return
    end
    
    if clientRoot.AssemblyAngularVelocity.Magnitude > 50 or clientRoot.AssemblyLinearVelocity.Magnitude > 150 then
        if Detected == false then
            sGuiServ:SetCore("ChatMakeSystemMessage", {
